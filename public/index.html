<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>News Sentiment Tracker</title>
    <script defer src="/__/firebase/10.14.1/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/10.14.1/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div>
      <div class="mqtt-wrapper">
        <h2 class="title">→ MQTT Test Panel</h2>
        <div id="status">Connection status: Disconnected</div>
        <div id="lastMessage">Last message: None</div>
        <button onclick="sendTestScore(0)">Send Score 0</button>
        <button onclick="sendTestScore(0.1)">Send Score 0.1</button>
        <button onclick="sendTestScore(0.15)">Send Score 0.15</button>
        <button onclick="sendTestScore(0.25)">Send Score 0.25</button>
        <button onclick="sendTestScore(0.5)">Send Score 0.5</button>
        <button onclick="sendTestScore(0.75)">Send Score 0.75</button>
        <button onclick="sendTestScore(1)">Send Score 1</button>
        <button onclick="resendCurrentScore()">Resend Current Score</button>
      </div>
      <button onclick="exportArticlesToCSV()">Export to CSV</button>
      <div class="score-wrapper">
        <h2 class="title">→ current total score:</h2>
        <label id="main-score-label">0.500000</label>
      </div>
      <progress id="main-score-meter" min ="0" max="1" value="0.5"></progress>
    </div>
    <div>
      <h2 class="title">→ article scores</h2>
      <ul id="article-list"></ul>
    </div>

    <script type="module" src="script.js"></script>
  </body>
</html>
